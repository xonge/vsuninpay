/*! 70c v2.10.0 2015-05-11 | (c) 2014-2015 70c.com */
function mobilecheck() {
    var a = !1;
    return function(b) {
        (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(b) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0, 4))) && (a = !0)
    }(navigator.userAgent || navigator.vendor || window.opera), a
}

function isWeixin() {
    var a = navigator.userAgent.toLowerCase();
    return "micromessenger" == a.match(/MicroMessenger/i) ? !0 : !1
}

function countCharacters(a) {
    for (var b = 0, c = 0; c < a.length; c++) {
        var d = a.charCodeAt(c);
        d >= 1 && 126 >= d || d >= 65376 && 65439 >= d ? b++ : b += 2
    }
    return b
}

function playVideo(a) {
    if (a && a.bgAudio) {
        var b = $("#media"),
            c = $("#audio_btn"),
            d = $("#yinfu"),
            e = "1" == a.bgAudio.type ? a.bgAudio.url : PREFIX_FILE_HOST + a.bgAudio.url;
        b.attr("src", e), c.addClass("video_exist"), b.bind("loadstart", function() {
            c.removeClass("off").addClass("loading_background"), d.addClass("loading_yinfu")
        }).bind("loadeddata", function() {
            c.removeClass("loading_background").addClass("off"), d.removeClass("loading_yinfu")
        }).bind("canplay", function() {
            b.get(0).play(), c.removeClass("off").addClass("play_yinfu"), d.addClass("rotate"), $(window).off("touchstart.fixautoplay")
        }), c.show().click(function() {
            c.hasClass("off") ? (c.addClass("play_yinfu").removeClass("off"), d.addClass("rotate"), b.get(0).play()) : (c.addClass("off").removeClass("play_yinfu"), d.removeClass("rotate"), b.get(0).pause())
        }), $(window).one("touchstart.fixautoplay", function() {
            b.get(0).play()
        })
    }
    sayGood(a)
}

function getSceneIdByCode(a) {
    var b = a.replace(/A/g, "0").replace(/C/g, "1").replace(/F/g, "2").replace(/Z/g, "3").replace(/W/g, "4").replace(/G/g, "5").replace(/J/g, "6").replace(/Q/g, "7").replace(/Y/g, "8").replace(/S/g, "9");
    return parseInt(b)
}

function sayGood(a) {
    function b() {
        var a = parseInt($("#goodCount").text());
        $("#goodCount").text("" + a);
        var b;
        if (JosnStr) {
            var c = window.location.href.split("/w/")[1];
            b = getSceneIdByCode(c)
        } else {
            var d = new RegExp("(^|&)sceneid=([^&]*)(&|$)", "i"),
                e = window.location.search.substr(1).match(d);
            b = e[2]
        }
        var f = {
            sceneid: b,
            num: a
        };
        $.ajax({
            cache: !0,
            type: "POST",
            url: PREFIX_URL + "As/sayGood",
            data: $.param(f),
            async: !1,
            error: function() {},
            success: function(a) {
                $("#goodCount").text("" + a.num)
            }
        })
    }
    a && a.SayGood && ($("#sayGood").removeAttr("class"), $("#sayGood").attr("class", "saypositype" + a.SayGood.positionType), b(), $("#sayGood").unbind("click"), $("#sayGood").click(function() {
        var a = parseInt($("#goodCount").text());
        a += 1, $("#goodCount").text("" + a), b()
    }))
}

function xinShouZhiYin() {
    var a = sessionStorage.getItem("xszySCode");
    null == a || -1 === window.location.href.indexOf("w/" + a);
    var b, c, d, e, f, g, h = sessionStorage.getItem("xszy"),
        i = $("#xszyTishi");
    if (0 === i.length && ("8" == h || "k" == h)) {
        var j = function() {
            if (g = $("#btnsetproduct"), 0 == g.length) return !1;
            b = g, b.addClass("xszy-shanshuo"), c = "亲，就差最后一步了呀……", d = 21 * c.length, e = b.offset().top + 40, $("#xszyTishi").addClass("top"), f = b.offset().left;
            var a = '<p class="triangle-border top" id="xszyTishi" style="width:' + d + "px; top:" + parseInt(e) + "px; left:" + parseInt(f) + 'px;position: absolute;">' + c + "</p>";
            $("body").append(a), $("#xszyTishi").animate({
                opacity: "0"
            }, 6e3), $("#btnsetproduct").on("mouseenter", function() {
                $("#xszyTishi").animate({
                    opacity: "0.8"
                }, 1e3)
            }).on("mouseleave", function() {
                $("#xszyTishi").animate({
                    opacity: "0"
                }, 1e3)
            })
        };
        setTimeout(j, 1e3)
    }
}

function renderPage(a, b, c) {
    a.templateParser("jsonParser").parse({
        def: c[b - 1],
        appendTo: "#page" + b,
        mode: "view"
    });
    var d, e, f = 1,
        g = $(".z-current").width(),
        h = $(".z-current").height();
    if (JosnStr && mobilecheck() && (g = $(window).width(), h = $(window).height()), imageWidth = $(".m-img").width(), imageHeight = $(".m-img").height(), g / h >= 320 / 486 ? (f = h / 486, d = (g / f - 320) / 2) : (f = g / 320, e = (h / f - 486) / 2), e && $(".edit_area").css({
            marginTop: e
        }), d && JosnStr && mobilecheck() && $(".edit_area").css({
            marginLeft: d
        }), a.templateParser("jsonParser").getTplCount() == c.length && ($("#eqMobileViewport").attr("content", "width=320, initial-scale=" + f + ", maximum-scale=" + f + ", user-scalable=no"), 320 != clientWidth && clientWidth == document.documentElement.clientWidth || isWeixin() && (navigator.userAgent.indexOf("Android") > -1 || navigator.userAgent.indexOf("Linux") > -1))) {
        var i = 320 / g,
            j = 486 / h,
            k = Math.max(i, j);
        k = k > 1 ? k : 160 * k, k = parseInt(k), $("#eqMobileViewport").attr("content", "width=320, target-densitydpi=" + k)
    }
}

function GetQueryString(a) {
    var b = new RegExp("(^|&)" + a + "=([^&]*)(&|$)", "i"),
        c = window.location.search.substr(1).match(b);
    return null != c ? unescape(c[2]) : null
}

function getSceneIdByCode(a) {
	var a = 'QZWJQG';
    var b = a.replace(/A/g, "0").replace(/C/g, "1").replace(/F/g, "2").replace(/Z/g, "3").replace(/W/g, "4").replace(/G/g, "5").replace(/J/g, "6").replace(/Q/g, "7").replace(/Y/g, "8").replace(/S/g, "9");
    return parseInt(b)
}

function stat(a) {
    if (!id) {
        // var b = window.location.href.split("/w/")[1];
        var b = 'QZWJQG';
        id = getSceneIdByCode(b);
    }
    var c = {
            screenwidth: screen.width,
            screenheight: screen.height,
            StoreID: StoreID,
            SceneID: id,
            BatchID: 0,
            cookie: getUserInfo(),
            OS: getOS(),
            SceneName: a
        },
        d = new Image;
    d.src = WSDSTAT + "stat/stat?" + $.param(c)
}

function getOS() {
    var a = navigator.userAgent;
    return a.indexOf("Android") > -1 || a.indexOf("Linux") > -1 ? "Android" : a.indexOf("iPhone") > -1 ? "iPhone" : a.indexOf("Windows Phone") > -1 ? "winPhone" : "other"
}

function guidGenerator() {
    var a = function() {
        return (65536 * (1 + Math.random()) | 0).toString(16).substring(1)
    };
    return a() + a() + "-" + a() + "-" + a() + "-" + a() + "-" + a() + a() + a()
}

function getUserInfo() {
    return localStorage.getItem("uinfo") || localStorage.setItem("uinfo", guidGenerator()), localStorage.getItem("uinfo")
}! function(a) {
    "use strict";
    a.fn.swipeSlide = function(b, c) {
        function d(a, b) {
            a.css({
                "-webkit-transition": "all " + b + "s " + C.transitionType,
                transition: "all " + b + "s " + C.transitionType
            })
        }

        function e(a, b) {
            a.css(C.axisX ? {
                "-webkit-transform": "translate3d(" + b + "px,0,0)",
                transform: "translate3d(" + b + "px,0,0)"
            } : {
                "-webkit-transform": "translate3d(0," + b + "px,0)",
                transform: "translate3d(0," + b + "px,0)"
            })
        }

        function f(a) {
            if (C.lazyLoad) {
                var b = C.ul.find("[data-src]");
                if (b.length > 0) {
                    var c = b.eq(a);
                    c.data("src") && (c.is("img") ? c.attr("src", c.data("src")).data("src", "") : c.css({
                        "background-image": "url(" + c.data("src") + ")"
                    }).data("src", ""))
                }
            }
        }

        function g(a) {
            a.touches || (a.touches = a.originalEvent.touches)
        }

        function h(a) {
            r = a.touches[0].pageX, s = a.touches[0].pageY
        }

        function i(a) {
            if (a.preventDefault(), C.autoSwipe && p && clearInterval(p), w = a.touches[0].pageX, x = a.touches[0].pageY, t = w - r, u = x - s, d(C.ul, 0), C.axisX) {
                if (!C.continuousScroll) {
                    if (0 == q && t > 0) return t = 0, o();
                    if (q + 1 >= F && 0 > t) return t = 0, o()
                }
                e(C.ul, -(D * parseInt(q) - t))
            } else {
                if (!C.continuousScroll) {
                    if (0 == q && u > 0) return u = 0, o();
                    if (q + 1 >= F && 0 > u) return u = 0, o()
                }
                e(C.ul, -(E * parseInt(q) - u))
            }
        }

        function j() {
            v = C.axisX ? t : u, Math.abs(v) <= y ? k(.3) : v > y ? n() : -y > v && m(), o(), t = 0, u = 0
        }

        function k(a) {
            d(C.ul, a), C.axisX ? e(C.ul, -q * D) : e(C.ul, -q * E)
        }

        function l() {
            C.continuousScroll ? q >= F ? (k(.3), q = 0, setTimeout(function() {
                k(0)
            }, 300)) : 0 > q ? (k(.3), q = F - 1, setTimeout(function() {
                k(0)
            }, 300)) : k(.3) : (q >= F ? q = 0 : 0 > q && (q = F - 1), k(.3)), c(q)
        }

        function m() {
            q++, l(), C.lazyLoad && f(C.continuousScroll ? q + 2 : q + 1)
        }

        function n() {
            if (q--, l(), A && C.lazyLoad) {
                var a = F - 1;
                for (a; F + 1 >= a; a++) f(a);
                return void(A = !1)
            }!A && C.lazyLoad && f(q)
        }

        function o() {
            C.autoSwipe && (p = setInterval(function() {
                m()
            }, C.speed))
        }
        var p, q = 0,
            r = 0,
            s = 0,
            t = 0,
            u = 0,
            v = 0,
            w = 0,
            x = 0,
            y = 50,
            z = 0,
            A = !0,
            B = a(this),
            C = a.extend({}, {
                ul: B.children("ul"),
                li: B.children().children("li"),
                continuousScroll: !1,
                autoSwipe: !0,
                speed: 4e3,
                axisX: !0,
                transitionType: "ease",
                lazyLoad: !1,
                clone: !0,
                width: 0,
                length: 0
            }, b || {}),
            D = C.width || C.li.width(),
            E = C.li.height(),
            F = C.length || C.li.length;
        c = c || function() {},
            function() {
                if (C.continuousScroll && (C.clone && C.ul.prepend(C.li.last().clone()).append(C.li.first().clone()), C.axisX ? (e(C.ul.children().first(), -1 * D), e(C.ul.children().last(), D * F)) : (e(C.ul.children().first(), -1 * E), e(C.ul.children().last(), E * F))), C.lazyLoad) {
                    var b = 0;
                    for (z = C.continuousScroll ? 3 : 2, b; z > b; b++) f(b)
                }
                C.li.each(C.axisX ? function(b) {
                    e(a(this), D * b)
                } : function(b) {
                    e(a(this), E * b)
                }), o(), c(q, p), B.on("touchstart", function(a) {
                    a.stopPropagation(), g(a), h(a)
                }), B.on("touchmove", function(a) {
                    a.stopPropagation(), g(a), i(a)
                }), B.on("touchend", function(a) {
                    a.stopPropagation(), j()
                })
            }()
    }
}(window.Zepto || window.jQuery), ! function(a) {
    function b() {
        var a = {
                CLICK: {
                    name: "click",
                    value: 1
                }
            },
            b = {
                SHOW: {
                    name: "show",
                    value: 1
                }
            };
        this.getSendType = function(b) {
            if (void 0 === b) return a;
            for (var c in a)
                if (b === a[c].value) return a[c];
            return null
        }, this.getHandleType = function(a) {
            if (void 0 === a) return b;
            for (var c in b)
                if (a === b[c].value) return b[c];
            return null
        }
    }
    a.utilTrigger = new b
}(window), ! function(a) {
    function b(a) {
        function b(a, b, c) {
            return a[b] || (a[b] = c())
        }
        var c = b(a, "eqShow", Object);
        return b(c, "templateParser", function() {
            var a = {};
            return function(c, d) {
                if ("hasOwnProperty" === c) throw new Error("hasOwnProperty is not a valid name");
                return d && a.hasOwnProperty(c) && (a[c] = null), b(a, c, d)
            }
        })
    }

    function c() {
        templateParser = b(a)
    }
    var d = a.eqShow || (a.eqShow = {});
    c(d)
}(window), ! function(a) {
    function b(a, b) {}
    a.templateParser("jsonParser", function() {
        function a(a) {
            return function(b, c) {
                a[b] = c
            }
        }

        function c(a, b) {
            var c = j[("" + a.type).charAt(0)](a);
            if (c) {
                var d = $('<li comp-drag comp-rotate class="comp-resize comp-rotate inside" id="inside_' + c.id + '" num="' + a.num + '" ctype="' + a.type + '"></li>');
                3 != ("" + a.type).charAt(0) && 1 != ("" + a.type).charAt(0) && d.attr("comp-resize", ""), "p" == ("" + a.type).charAt(0) && d.removeAttr("comp-rotate"), 1 == ("" + a.type).charAt(0) && d.removeAttr("comp-drag"), 2 == ("" + a.type).charAt(0) && d.addClass("wsite-text"), 4 == ("" + a.type).charAt(0) && (a.properties.imgStyle && $(c).css(a.properties.imgStyle), d.addClass("wsite-image")), 5 == ("" + a.type).charAt(0) && d.addClass("wsite-input"), 6 == ("" + a.type).charAt(0) && d.addClass("wsite-button"), 8 == ("" + a.type).charAt(0) && d.addClass("wsite-button"), "t" == ("" + a.type).charAt(0) && d.removeAttr("comp-rotate"), "e" == ("" + a.type).charAt(0) && d.addClass("wsite-text"), "c" == ("" + a.type).charAt(0) && d.addClass("wsite-text"), "r" == ("" + a.type).charAt(0) && d.addClass("wsite-text"), "x" == ("" + a.type).charAt(0) && d.addClass("wsite-button"), "y" == ("" + a.type).charAt(0) && d.addClass("wsite-button"), "q" == ("" + a.type).charAt(0) && d.addClass("wsite-button"), "m" == ("" + a.type).charAt(0) && d.addClass("wsite-map"), "l" == ("" + a.type).charAt(0) && d.addClass("wsite-lottery"), "v" == ("" + a.type).charAt(0) && d.addClass("wsite-video"), d.mouseenter(function() {
                    $(this).addClass("inside-hover")
                }), d.mouseleave(function() {
                    $(this).removeClass("inside-hover")
                });
                var e = $('<div class="element-box">').append($('<div class="element-box-contents">').append(c));
                return d.append(e), 5 != ("" + a.type).charAt(0) && 6 != ("" + a.type).charAt(0) || "edit" != b || $(c).before($('<div class="element" style="position: absolute; height: 100%; width: 100%;">')), a.css && (d.css({
                    width: 320 - parseInt(a.css.left)
                }), d.css({
                    width: a.css.width,
                    height: a.css.height,
                    left: a.css.left,
                    top: a.css.top,
                    zIndex: a.css.zIndex,
                    bottom: a.css.bottom,
                    transform: a.css.transform
                }), e.css(a.css).css({
                    width: "100%",
                    height: "100%",
                    transform: "none"
                }), e.children(".element-box-contents").css({
                    width: "100%",
                    height: "100%"
                }), 4 != ("" + a.type).charAt(0) && "p" != ("" + a.type).charAt(0) && $(c).css({
                    width: a.css.width,
                    height: a.css.height
                })), d
            }
        }

        function d(a) {
            for (var b = 0; b < a.length - 1; b++)
                for (var c = b + 1; c < a.length; c++)
                    if (parseInt(a[b].css.zIndex, 10) > parseInt(a[c].css.zIndex, 10)) {
                        var d = a[b];
                        a[b] = a[c], a[c] = d
                    }
            for (var e = 0; e < a.length; e++) a[e].css.zIndex = e + 1 + "";
            return a
        }

        function e(a, e, f) {
            e = e.find(".edit_area").css({
                overflow: "hidden"
            });
            var g, h = a.elements;
            if (h)
                for (h = d(h), g = 0; g < h.length; g++)
                    if (3 == h[g].type) {
                        var i = j[("" + h[g].type).charAt(0)](h[g]);
                        "edit" == f && k[("" + h[g].type).charAt(0)] && k[("" + h[g].type).charAt(0)](i, h[g])
                    } else {
                        var n = c(h[g], f);
                        if (!n) continue;
                        e.append(n);
                        for (var o = 0; o < m.length; o++) m[o](n, h[g], f);
                        l[("" + h[g].type).charAt(0)] && (l[("" + h[g].type).charAt(0)](n, h[g]), "view" == f && b(n, h[g])), "edit" == f && k[("" + h[g].type).charAt(0)] && k[("" + h[g].type).charAt(0)](n, h[g])
                    }
        }

        function f() {
            return k
        }

        function g() {
            return j
        }

        function h(a) {
            m.push(a)
        }

        function i() {
            return m
        }
        var j = {},
            k = {},
            l = {},
            m = [],
            n = containerWidth = 320,
            o = containerHeight = 486,
            p = 1,
            q = 1,
            r = 0,
            s = {
                getComponents: g,
                getEventHandlers: f,
                addComponent: a(j),
                bindEditEvent: a(k),
                bindAfterRenderEvent: a(l),
                addInterceptor: h,
                getInterceptors: i,
                wrapComp: c,
                mode: "view",
                getTplCount: function() {
                    return r
                },
                parse: function(a) {
                    var b = $('<div class="edit_wrapper"><ul eqx-edit-destroy id="edit_area' + a.def.id + '" comp-droppable paste-element class="edit_area weebly-content-area weebly-area-active"></div>'),
                        c = this.mode = a.mode;
                    this.def = a.def, "view" == c && r++;
                    var d = $(a.appendTo);
                    return containerWidth = d.width(), containerHeight = d.height(), p = n / containerWidth, q = o / containerHeight, e(a.def, b.appendTo($(a.appendTo)), c)
                }
            };
        return s
    })
}(window.eqShow), ! function(a) {
    a.qsdCommon = function() {
        var a = function(a) {
                var b, c, d = a.type;
                return 0 === d && (b = "fadeIn"), 1 === d && (c = a.direction, 0 === c && (b = "fadeInLeft"), 1 === c && (b = "fadeInDown"), 2 === c && (b = "fadeInRight"), 3 === c && (b = "fadeInUp")), 6 === d && (b = "wobble"), 5 === d && (b = "rubberBand"), 7 === d && (b = "rotateIn"), 8 === d && (b = "flip"), 9 === d && (b = "swing"), 2 === d && (c = a.direction, 0 === c && (b = "bounceInLeft"), 1 === c && (b = "bounceInDown"), 2 === c && (b = "bounceInRight"), 3 === c && (b = "bounceInUp")), 3 === d && (b = "bounceIn"), 4 === d && (b = "zoomIn"), 10 === d && (b = "fadeOut"), 11 === d && (b = "flipOutY"), 12 === d && (b = "rollIn"), 13 === d && (b = "lightSpeedIn"), b
            },
            b = function(a, b, c) {
                function d(a, b, f) {
                    if (f.length && e < f.length) {
                        a.css("animation", "");
                        var g = a.get(0);
                        g.offsetWidth = g.offsetWidth, a.css("animation", b[e] + " " + f[e].duration + "s ease " + f[e].delay + "s " + (f[e].countNum ? f[e].countNum : "")), "view" == c ? (f[e].count && e == f.length - 1 && a.css("animation-iteration-count", "infinite"), a.css("animation-fill-mode", "both")) : (a.css("animation-iteration-count", "1"), a.css("animation-fill-mode", "backwards")), f[e].linear && a.css("animation-timing-function", "linear"), a.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                            e++, d(a, b, f)
                        })
                    }
                }
                var e = 0;
                if (b.properties && b.properties.anim) {
                    var f = [];
                    b.properties.anim.length ? f = b.properties.anim : f.push(b.properties.anim);
                    var g = $(".element-box", a);
                    g.attr("element-anim", "");
                    for (var h, i = [], j = [], k = 0, l = f.length; l > k; k++) null != f[k].type && -1 != f[k].type && (h = qsdCommon.convertType(f[k]), i.push(h), j.push(f[k]));
                    b.properties.anim.trigger ? a.click(function() {
                        d(g, h, b.properties.anim)
                    }) : d(g, i, j)
                }
            };
        return {
            convertType: a,
            animation: b
        }
    }()
}(window), ! function(a) {
    function b(a, b, c, d) {
        var e = {},
            f = a / b,
            g = c / d;
        return f > g ? (e.width = c, e.height = c / f) : (e.height = d, e.width = d * f), e
    }
    var c = a.templateParser("jsonParser");
    c.addInterceptor(function(a, b, c) {
        qsdCommon.animation(a, b, c)
    }), c.addComponent("1", function(a) {
        var b = document.createElement("div");
        if (b.id = a.id, b.setAttribute("class", "element comp_title"), a.content && (b.textContent = a.content), a.css) {
            var c, d = a.css;
            for (c in d) b.style[c] = d[c]
        }
        if (a.properties.labels)
            for (var e = a.properties.labels, f = 0; f < e.length; f++) $('<a class = "label_content" style = "display: inline-block;">').appendTo($(b)).html(e[f].title).css(e[f].color).css("width", 100 / e.length + "%");
        return b
    }), c.addComponent("2", function(a) {
        var b = document.createElement("div");
        return b.id = a.id, b.setAttribute("ctype", a.type), b.setAttribute("class", "element comp_paragraph editable-text"), a.content && (b.innerHTML = a.content), b.style.cursor = "default", b
    }), c.addComponent("3", function(a) {
        var b = $("#nr .edit_area")[0];
        "view" == c.mode && (b = document.getElementById("edit_area" + c.def.id)), b = $(b).parent()[0];
        var d;
        return a.properties.imgSrc && (d = a.properties.imgSrc, /^http.*/.test(d) || (d = PREFIX_FILE_HOST + "/" + d), (new Image).src = d, b.style.backgroundImage = "url(" + d + ")", b.style.backgroundOrigin = "element content-box", b.style.backgroundSize = "cover", b.style.backgroundPosition = "50% 50%"), a.properties.bgColor && (b.style.backgroundColor = a.properties.bgColor), b
    }), c.addComponent("4", function(a) {
        var b = document.createElement("img");
        return b.id = a.id, b.setAttribute("ctype", a.type), b.setAttribute("class", "element comp_image editable-image"), b.src = /^http.*/.test(a.properties.src) ? a.properties.src : PREFIX_FILE_HOST + a.properties.src, b
    }), c.addComponent("v", function(a) {
        var b = document.createElement("a");
        return b.setAttribute("class", "element video_area"), b.id = a.id, b.setAttribute("ctype", a.type), a.properties.src && b.setAttribute("videourl", a.properties.src), b
    }), c.addComponent("5", function(a) {
        var b = document.createElement("textarea");
        return b.id = a.id, b.setAttribute("ctype", a.type), b.setAttribute("class", "element comp_input editable-text"), a.properties.required && b.setAttribute("required", a.properties.required), a.properties.placeholder && b.setAttribute("placeholder", a.properties.placeholder), a.properties.isshowmsg && b.setAttribute("isshowmsg", a.properties.isshowmsg), b.setAttribute("name", "eq[f_" + a.id + "]"), b.style.width = "100%", b
    }), c.addComponent("p", function(a) {
        if (a.properties && a.properties.children) {
            var c = 320,
                d = 160,
                e = a.css.width || c,
                f = a.css.height || d,
                g = $('<div id="' + a.id + '" class="slide element" ctype="' + a.type + '"></div>'),
                h = $("<ul>").appendTo(g),
                i = $('<div class="dot">').appendTo(g);
            for (var j in a.properties.children) {
                var k = b(a.properties.children[j].width, a.properties.children[j].height, e, f),
                    l = $('<img data-src="' + PREFIX_FILE_HOST + a.properties.children[j].src + '" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC">');
                l.css({
                    width: k.width,
                    height: k.height
                });
                var m = $("<li>").css({
                    lineHeight: f + "px"
                });
                m.append(l), h.append(m), i.append($("<span>"))
            }
            return INTERVAL_OBJ[a.id] && (clearInterval(INTERVAL_OBJ[a.id]), delete INTERVAL_OBJ[a.id]), g.attr("length", a.properties.children.length).attr("autoscroll", a.properties.autoPlay).attr("interval", a.properties.interval), g.swipeSlide({
                autoSwipe: a.properties.autoPlay,
                continuousScroll: !0,
                speed: a.properties.interval,
                transitionType: "cubic-bezier(0.22, 0.69, 0.72, 0.88)",
                lazyLoad: !0,
                width: e
            }, function(b, c) {
                i.children().eq(b).addClass("cur").siblings().removeClass("cur"), c && (INTERVAL_OBJ[a.id] = c)
            }), g.get(0)
        }
    }), c.addComponent("6", function(a) {
        var b = document.createElement("button");
        if (b.id = a.id, b.setAttribute("ctype", a.type), b.setAttribute("class", "element comp_button editable-text"), a.properties.title) {
            var c = a.properties.title.replace(/ /g, "&nbsp;");
            b.innerHTML = c
        }
        return b.style.width = "100%", b
    }), c.addComponent("8", function(a) {
        var b = document.createElement("a");
        if (b.id = a.id, b.setAttribute("ctype", a.type), b.setAttribute("class", "element comp_anchor editable-text"), a.properties.title) {
            var d = a.properties.title.replace(/ /g, "&nbsp;");
            $(b).html(d), "view" == c.mode && $(b).attr("href", "tel:" + a.properties.number)
        }
        return b.style.cursor = "default", b.style.width = "100%", b
    }), c.addComponent("7", function(a) {
        var b = document.createElement("div");
        if (b.id = "map_" + a.id, b.setAttribute("class", "element comp_map_wrapper"), a.content && (b.textContent = a.content), a.css) {
            var c, d = a.css;
            for (c in d) b.style[c] = d[c]
        }
        return b.style.height = "250px", b
    }), c.bindAfterRenderEvent("1", function(a, b) {
        if (a = $("div", a)[0], "view" == c.mode && 1 == b.type) {
            var d = b.properties.labels;
            for (key in d) ! function(b) {
                $($(a).find(".label_content")[b]).on("click", function() {
                    pageScroll(d[b])
                })
            }(key)
        }
    }), c.bindAfterRenderEvent("8", function(a, b) {}), c.bindAfterRenderEvent("4", function(a, b) {
        "view" == c.mode && b.properties.url && $(a).click(function(a) {
            var c = b.properties.url;
            isNaN(c) ? window.open(c) : eqxiu.pageScroll(c)
        })
    }), c.bindAfterRenderEvent("v", function(a, b) {
        "view" == c.mode && $(a).click(function() {
            $(a).hide(), $("#audio_btn").hasClass("video_exist") && ($("#audio_btn").hide(), $("#media")[0].pause()), $('<div class="video_mask" id="mask_' + b.id + '"></div>').appendTo($(a).closest(".m-img")), $('<a class = "close_mask" id="close_' + b.id + '"></a>').appendTo($(a).closest(".m-img")), $(b.properties.src).appendTo($("#mask_" + b.id)).attr("style", "position: absolute;top:0; min-height: 45%; max-height: 100%; top: 20%;").attr("width", "100%").removeAttr("height"), $("#close_" + b.id).bind("click", function() {
                $(a).show(), $("#mask_" + b.id).remove(), $("#close_" + b.id).remove(), $("#audio_btn").hasClass("video_exist") && $("#audio_btn").show(function() {
                    $(this).hasClass("off") || $("#media")[0].play()
                })
            })
        })
    }), c.bindAfterRenderEvent("2", function(a, b) {
        for (var d = $(a).find("a[data]"), e = 0; e < d.length; e++)
            if (d[e] && "view" == c.mode) {
                $(d[e]).css("color", "#428bca").css("cursor", "pointer");
                var f = $(d[e]).attr("data");
                ! function(a) {
                    $(d[e]).click(function(b) {
                        eqxiu.pageScroll(a)
                    })
                }(f)
            }
    }), c.bindAfterRenderEvent("6", function(a, b) {
        if (a = $("button", a)[0], "view" == c.mode) {
            var d = function(b, c) {
                    var d = !0,
                        e = $(a).parents(".nr"),
                        f = {};
                    $("textarea", e).each(function() {
                        if (d) {
                            if ("required" == $(this).attr("required") && "" == $(this).val().trim()) return alert($(this).attr("placeholder") + "为必填项"), void(d = !1);
                            if ("502" == $(this).attr("ctype")) {
                                var a = new RegExp(/(\d{11})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$/g);
                                if (!a.test($(this).val())) return alert("手机号码格式错误"), void(d = !1)
                            }
                            if ("503" == $(this).attr("ctype")) {
                                var b = new RegExp(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/g);
                                if (!b.test($(this).val())) return alert("邮箱格式错误"), void(d = !1)
                            }
                            f[$(this).attr("name")] = $(this).val()
                        }
                    }), d && $.ajax({
                        cache: !0,
                        type: "POST",
                        url: PREFIX_URL + "As/setforminfo?sceneId=" + c,
                        data: $.param(f),
                        async: !1,
                        error: function(a) {
                            alert("Connection error")
                        },
                        success: function(a) {
                            $(b).unbind("click").click(function() {
                                alert("请不要重复提交")
                            }), alert("提交成功")
                        }
                    })
                },
                e = c.def.sceneId;
            $(a).bind("click", function() {
                d(this, e)
            })
        }
    }), c.bindAfterRenderEvent("7", function(a, b) {
        var c = new BMap.Map("map_" + b.id, {
                enableMapClick: !1
            }),
            d = new BMap.Point(b.properties.x, b.properties.y),
            e = new BMap.Marker(d);
        c.addOverlay(e);
        var f = new BMap.Label(b.properties.markTitle, {
            offset: new BMap.Size(20, -10)
        });
        e.setLabel(f), c.disableDoubleClickZoom(), c.centerAndZoom(d, 15)
    })
}(window.eqShow), ! function(a) {
    var b = a.templateParser("jsonParser");
    b.addComponent("m", function(a) {
        var b = document.createElement("a");
        return b.setAttribute("class", "element map_area"), b.id = a.id, b.setAttribute("ctype", a.type), a.properties.src && b.setAttribute("mapurl", a.properties.src), b
    }), b.bindAfterRenderEvent("m", function(a, c) {
        "view" == b.mode && $(a).click(function() {
            $(a).hide(), $("#map_btn").hasClass("map_exist") && $("#map_btn").hide(), $('<div class="map_mask" id="mask_' + c.id + '"></div>').appendTo($(a).closest(".m-img")), $('<a class = "close_mask" style="left: 15px;" id="close_' + c.id + '"></a>').appendTo($(a).closest(".m-img")), $(c.properties.src).appendTo($("#mask_" + c.id)).attr("style", "position: absolute;top:0; min-height: 80%; max-height: 100%; top: 10%;z-index:9999").attr("width", "100%").removeAttr("height"), $("#close_" + c.id).bind("click", function() {
                $(a).show(), $("#mask_" + c.id).remove(), $("#close_" + c.id).remove(), $("#map_btn").hasClass("map_exist") && $("#map_btn").show(function() {
                    $(this).hasClass("off")
                })
            })
        })
    }), b.addComponent("q", function(a) {
        var b = document.createElement("button");
        if (b.id = a.id, b.setAttribute("ctype", a.type), b.setAttribute("class", "element comp_button editable-text"), a.properties.title) {
            var c = a.properties.title.replace(/ /g, "&nbsp;");
            b.innerHTML = c
        }
        return b.style.width = "100%", b
    }), b.bindAfterRenderEvent("q", function(a, c) {
        "view" == b.mode && $(a).click(function() {
            var b = '<iframe height=698 width=510 src="' + PREFIX_URL + "all/fromshow.htm?sceneid=" + c.sceneId + '" frameborder=0 allowfullscreen></iframe>';
            $(a).hide(), $("#map_btn").hasClass("map_exist") && $("#map_btn").hide(), $('<div class="map_mask" id="mask_' + c.id + '" ></div>').appendTo($(a).closest(".m-img")), $('<a class = "close_mask"  style="left: 15px;" id="close_' + c.id + '"></a>').appendTo($(a).closest(".m-img")), $(b).appendTo($("#mask_" + c.id)).attr("style", "position: absolute; min-height: 80%; max-height: 80%; top: 10%;z-index:9999").attr("width", "100%").removeAttr("height"), $("#close_" + c.id).bind("click", function() {
                $(a).show(), $("#mask_" + c.id).remove(), $("#close_" + c.id).remove(), $("#map_btn").hasClass("map_exist") && $("#map_btn").show(function() {
                    $(this).hasClass("off")
                })
            })
        })
    }), b.addComponent("t", function(a) {
        var b = document.createElement("div");
        return b.id = a.id, b.setAttribute("ctype", a.type), b.setAttribute("class", "element comp_paragraph editable-text"), a.content && (b.innerHTML = a.content), b.style.cursor = "default", b
    }), b.addComponent("x", function(a) {
        var b = document.createElement("button");
        return b.setAttribute("class", "element toupiao_area"), b.id = a.id, b.setAttribute("ctype", a.type), b.setAttribute("class", "element comp_button editable-text"), b.innerHTML = "投票", b
    }), b.bindAfterRenderEvent("x", function(a, c) {
        if (a = $("button", a)[0], "view" == b.mode) {
            var d = function() {
                if (isWeixin() === !1) return alert("只能在微信上投票！"), void(e = !1);
                if (localStorage.getItem("vote_" + c.pageId)) return alert("请不要重复投票！"), void(e = !1);
                for (var d = this, e = !0, f = ($(a).parents("ul"), 0), g = $("#edit_area" + c.pageId).find("input[name^='toupiao_']").attr("name"), h = document.getElementsByName(g), i = "", j = 0; j < h.length; j++) h[j].checked && (i += h[j].value + ",", f += 1);
                var k = c.properties.choosebutton;
                if ("c" === k.Type && parseInt(k.CheckNum) < f) return alert("最多只能选" + k.CheckNum + "个选项！"), void(e = !1);
                if (0 === f) return alert("至少要选1个选项才能投票！"), void(e = !1);
                if (k.STime !== k.ETime) {
                    var l = new Date(k.STime),
                        m = new Date(k.ETime),
                        n = new Date;
                    if (parseInt(n - m) > 0) return alert("该投票在" + k.ETime + "已经结束！"), void(e = !1);
                    if (parseInt(l - n) > 0) return alert("该投票在" + k.STime + "才正式开始，敬请期待！"), void(e = !1)
                }
                i = i.substr(0, i.length - 1), e && $.ajax({
                    cache: !0,
                    type: "POST",
                    url: PREFIX_URL + "As/settoupiao",
                    data: {
                        pageid: c.pageId,
                        chkvalue: i
                    },
                    async: !1,
                    error: function() {},
                    success: function() {
                        d.removeEventListener("click", b), $(d).click(function() {
                            alert("请不要重复投票")
                        }), localStorage.setItem("vote_" + c.pageId, "1");
                        var a = $("#edit_area" + c.pageId).find("a[ctype='y']").attr("id");
                        document.getElementById("" + a).click()
                    }
                })
            };
            a.addEventListener("click", d)
        }
    }), b.addComponent("y", function(a) {
        var b = document.createElement("a");
        return b.setAttribute("class", "element toupiao_area"), b.id = a.id, b.setAttribute("ctype", a.type), b.setAttribute("class", "element comp_button editable-text"), b.innerHTML = "查看结果", b
    }), b.bindAfterRenderEvent("y", function(a, c) {
        "view" == b.mode && $(a).click(function() {
            if (!localStorage.getItem("vote_" + c.pageId)) return alert("请先投票后再查看结果！"), void(e = !1);
            var b = '<iframe height=698 width=510 src="' + PREFIX_URL + "all/vote.htm?pageId=" + c.pageId + '" frameborder=0 allowfullscreen></iframe>';
            $(a).hide(), $("#map_btn").hasClass("map_exist") && $("#map_btn").hide(), $('<div class="map_mask" id="mask_' + c.id + '" style="height:80%;overflow:auto;" ></div>').appendTo($(a).closest(".m-img")), $('<a class = "close_mask"  style="left: 15px;" id="close_' + c.id + '"></a>').appendTo($(a).closest(".m-img")), $(b).appendTo($("#mask_" + c.id)).attr("style", "position: absolute; min-height: 80%; max-height: 80%; top: 10%;z-index:9999").attr("width", "100%").removeAttr("height"), $("#close_" + c.id).bind("click", function() {
                $(a).show(), $("#mask_" + c.id).remove(), $("#close_" + c.id).remove(), $("#map_btn").hasClass("map_exist") && $("#map_btn").show(function() {
                    $(this).hasClass("off")
                })
            })
        })
    }), b.addComponent("r", function(a) {
        var b = document.createElement("div"),
            c = a.content && a.content.split("radio_").length > 0 ? a.content.split("radio_")[1].split('"')[0] : a.id;
        return b.id = a.id, b.setAttribute("ctype", a.type), b.setAttribute("class", "element editable-radio"), b.setAttribute("id", "" + a.id), a.properties.placeholder && b.setAttribute("placeholder", a.properties.placeholder), a.content && (b.innerHTML = a.content.replace('value="' + c + '"', 'value="' + a.id + '"')), b.style.cursor = "default", b
    }), b.addComponent("c", function(a) {
        var b = document.createElement("div"),
            c = a.content && a.content.split("checkbox_").length > 0 ? a.content.split("checkbox_")[1].split('"')[0] : a.id;
        return b.id = a.id, b.setAttribute("ctype", a.type), b.setAttribute("class", "element editable-checkbox"), b.setAttribute("id", "" + a.id), a.properties.placeholder && b.setAttribute("placeholder", a.properties.placeholder), a.content && (b.innerHTML = a.content.replace('value="' + c + '"', 'value="' + a.id + '"')), b.style.cursor = "default", b
    }), b.addComponent("l", function(a) {
        var b = document.createElement("a");
        return b.setAttribute("class", "element lottery_area"), b.id = a.id, b.setAttribute("ctype", a.type), a.properties.src && b.setAttribute("mapurl", a.properties.src), b
    }), b.bindAfterRenderEvent("l", function(a, c) {
        "view" == b.mode && $(a).click(function() {
            window.location.href = c.properties.src
        })
    })
}(window.eqShow), ! function() {
    function a(a) {
        resources.loaded = !0, a instanceof Array ? a.forEach(function(a) {
            b(a)
        }) : b(a)
    }

    function b(a) {
        if ("loading" != f[a.url]) {
            if (f[a.url]) return f[a.url];
            if (f[a.url] = !1, "image" == a.type) {
                var b = new Image;
                f[a.url] = "loading", b.onload = function() {
                    f[a.url] = b, d() && g.forEach(function(a) {
                        a()
                    })
                }, b.src = a.url
            } else "js" == a.type && (f[a.url] = "loading", $.getScript(a.url, function() {
                f[a.url] = !0, d() && g.forEach(function(a) {
                    a()
                })
            }))
        }
    }

    function c(a) {
        return f[a]
    }

    function d() {
        var a = !0;
        for (var b in f)
            if (f.hasOwnProperty(b) && (!f[b] || "loading" == f[b])) return !1;
        return a
    }

    function e(a) {
        g.push(a)
    }
    var f = {},
        g = [];
    window.resources = {
        load: a,
        get: c,
        onReady: e,
        isReady: d
    }
}(), ! function() {
    window.eqx = {}, window.eqx.money = {
        config: {
            mode: 3,
            effectCallback: "editMoney",
            imageCallback: "countMoney",
            resources: [{
                url: CLIENT_CDN + "view/js/countMoney.js",
                type: "js"
            }, {
                url: CLIENT_CDN + "assets/images/money/moneybg.png",
                type: "image"
            }, {
                url: CLIENT_CDN + "assets/images/money/moremoney.png",
                type: "image"
            }, {
                url: CLIENT_CDN + "assets/images/money/flymoney.png",
                type: "image"
            }, {
                url: CLIENT_CDN + "assets/images/money/float.png",
                type: "image"
            }, {
                url: CLIENT_CDN + "assets/images/money/float2.png",
                type: "image"
            }, {
                url: CLIENT_CDN + "assets/images/money/float3.png",
                type: "image"
            }]
        }
    }
}();
var eqxiu = function() {
    function a(a) {
        o = !0;
        for (var d, e = 0, g = f._pageData.length; g > e; e++) a == f._pageData[e].id && (d = f._pageData[e].num);
        d || (d = a);
        var h = $(f.$currentPage).find(".m-img").attr("id").charAt(4),
            i = $(f.$currentPage).siblings(".main-page").find("#page" + d);
        i && (f.$activePage = $(i).parent(".main-page").get(0), h > d ? b() : d > h && c())
    }

    function b() {
        var a = 0;
        g();
        var b = setInterval(function() {
            a += 2, "0" == f._scrollMode || "1" == f._scrollMode || "2" == f._scrollMode ? t = a : ("3" == f._scrollMode || "4" == f._scrollMode || "5" == f._scrollMode) && (s = a), h(), a >= 21 && (clearInterval(b), i())
        }, 1)
    }

    function c() {
        l = !1;
        var a = 0;
        sessionStorage.setItem("xszy", "T"), g();
        var b = setInterval(function() {
            a -= 2, "0" == f._scrollMode || "1" == f._scrollMode || "2" == f._scrollMode ? t = a : ("3" == f._scrollMode || "4" == f._scrollMode || "5" == f._scrollMode) && (s = a), h(), -21 >= a && (clearInterval(b), i())
        }, 1)
    }

    function d() {
        l = !0
    }
    var e, f, g, h, i, j, k, l, m = $(window),
        n = !0,
        o = !1,
        p = mobilecheck(),
        q = 0,
        r = 0,
        s = 0,
        t = 0,
        u = !1,
        v = !1,
        w = !0,
        x = function(a, b, c, d) {
            function l(a, b, c) {
                for (var d = ["", "webkit", "moz"], e = 0, f = d.length; f > e; e++) {
                    var g = c instanceof Array ? c[e] : c,
                        h = d[e] + b;
                    a[h] = g
                }
            }

            function x() {
                return $(f.$currentPage).find(".page_effect.lock").get(0) ? !1 : !0
            }

            function y() {
                if (v)
                    if (l(f.$currentPage.style, "Transform", "scale(1)"), "0" == b || "1" == b || "2" == b || "6" == b) {
                        var a = t > 0 ? "" : "-";
                        l(f.$activePage.style, "Transform", "translateY(" + a + "100%)");

                    } else {
                        var a = s > 0 ? "" : "-";
                        l(f.$activePage.style, "Transform", "translateX(" + a + "100%)")
                    }
                setTimeout(function() {
                    f.$activePage.classList.remove("z-active"), f.$activePage.classList.remove("z-move"), f._isDisableFlipPage = !1
                }, 500)
            }

            function z() {
                if (Math.abs(t) > Math.abs(s) && x())
                    if (t > 0) {
                        if (f._isDisableFlipPrevPage) return;
                        v || w ? (v = !1, w = !1, f.$activePage && (f.$activePage.classList.remove("z-active"), f.$activePage.classList.remove("z-move")), o ? n = !0 : f.$currentPage.previousElementSibling && f.$currentPage.previousElementSibling.classList.contains("main-page") ? f.$activePage = f.$currentPage.previousElementSibling : (f.$activePage = f._$pages.last().get(0), n = !0), f.$activePage && f.$activePage.classList.contains("main-page") ? (f.$activePage.classList.add("z-active"), f.$activePage.classList.add("z-move"), f.$activePage.style.webkitTransition = "none", f.$activePage.style.webkitTransform = "translateY(-" + window.innerHeight + "px)", f.$activePage.style.mozTransition = "none", f.$activePage.style.mozTransform = "translateY(-" + window.innerHeight + "px)", f.$activePage.style.transition = "none", f.$activePage.style.transform = "translateY(-" + window.innerHeight + "px)", $(f.$activePage).trigger("active"), f.$currentPage.style.webkitTransformOrigin = "bottom center", f.$currentPage.style.mozTransformOrigin = "bottom center", f.$currentPage.style.transformOrigin = "bottom center") : (f.$currentPage.style.webkitTransform = "translateY(0px) scale(1)", f.$currentPage.style.mozTransform = "translateY(0px) scale(1)", f.$currentPage.style.transform = "translateY(0px) scale(1)", f.$activePage = null)) : (f.$activePage.style.webkitTransform = "translateY(-" + (window.innerHeight - t) + "px)", f.$activePage.style.mozTransform = "translateY(-" + (window.innerHeight - t) + "px)", f.$activePage.style.transform = "translateY(-" + (window.innerHeight - t) + "px)", "1" == f._scrollMode && (f.$currentPage.style.webkitTransform = "scale(" + (window.innerHeight / (window.innerHeight + t)).toFixed(3) + ")", f.$currentPage.style.mozTransform = "scale(" + (window.innerHeight / (window.innerHeight + t)).toFixed(3) + ")", f.$currentPage.style.transform = "scale(" + (window.innerHeight / (window.innerHeight + t)).toFixed(3) + ")"))
                    } else if (0 > t) {
                    if (f._isDisableFlipNextPage) return;
                    !v || w ? (v = !0, w = !1, f.$activePage && (f.$activePage.classList.remove("z-active"), f.$activePage.classList.remove("z-move")), o ? n = !0 : f.$currentPage.nextElementSibling && f.$currentPage.nextElementSibling.classList.contains("main-page") ? f.$activePage = f.$currentPage.nextElementSibling : (f.$activePage = f._$pages.first().get(0), n = !0), f.$activePage && f.$activePage.classList.contains("main-page") ? (f.$activePage.classList.add("z-active"), f.$activePage.classList.add("z-move"), f.$activePage.style.webkitTransition = "none", f.$activePage.style.webkitTransform = "translateY(" + window.innerHeight + "px)", f.$activePage.style.mozTransition = "none", f.$activePage.style.mozTransform = "translateY(" + window.innerHeight + "px)", f.$activePage.style.transition = "none", f.$activePage.style.transform = "translateY(" + window.innerHeight + "px)", $(f.$activePage).trigger("active"), f.$currentPage.style.webkitTransformOrigin = "top center", f.$currentPage.style.mozTransformOrigin = "top center", f.$currentPage.style.transformOrigin = "top center") : (f.$currentPage.style.webkitTransform = "translateY(0px) scale(1)", f.$currentPage.style.mozTransform = "translateY(0px) scale(1)", f.$currentPage.style.transform = "translateY(0px) scale(1)", f.$activePage = null)) : (f.$activePage.style.webkitTransform = "translateY(" + (window.innerHeight + t) + "px)", f.$activePage.style.mozTransform = "translateY(" + (window.innerHeight + t) + "px)", f.$activePage.style.transform = "translateY(" + (window.innerHeight + t) + "px)", "1" == f._scrollMode && (f.$currentPage.style.webkitTransform = "scale(" + ((window.innerHeight + t) / window.innerHeight).toFixed(3) + ")", f.$currentPage.style.mozTransform = "scale(" + ((window.innerHeight + t) / window.innerHeight).toFixed(3) + ")", f.$currentPage.style.transform = "scale(" + ((window.innerHeight + t) / window.innerHeight).toFixed(3) + ")"))
                }
            }

            function A() {
                e = !1, Math.abs(t) > Math.abs(s) && Math.abs(t) > 20 ? ("1" == f._scrollMode ? (f.$currentPage.style.webkitTransform = "scale(0.2)", f.$activePage.style.webkitTransform = "translateY(0px)", f.$currentPage.style.mozTransform = "scale(0.2)", f.$activePage.style.mozTransform = "translateY(0px)", f.$currentPage.style.transform = "scale(0.2)", f.$activePage.style.transform = "translateY(0px)") : (f.$currentPage.style.webkitTransform = "scale(1)", f.$activePage.style.webkitTransform = "translateY(0px)", f.$currentPage.style.mozTransform = "scale(1)", f.$activePage.style.mozTransform = "translateY(0px)", f.$currentPage.style.transform = "scale(1)", f.$activePage.style.transform = "translateY(0px)"), x() || $("#audio_btn").css("opacity", 0), setTimeout(function() {
                    $(f.$activePage).removeClass("z-active z-move").addClass("z-current"), $(f.$currentPage).removeClass("z-current z-move"), f._isDisableFlipPage = !1, f.$currentPage = $(f.$activePage).trigger("current"), $(f.$currentPage).trigger("hide")
                }, 500)) : (f._isDisableFlipPage = !1, y())
            }

            function B() {
                if (Math.abs(s) > Math.abs(t) && x())
                    if (s > 0) {
                        if (f._isDisableFlipPrevPage) return;
                        v || w ? (v = !1, w = !1, f.$activePage && (f.$activePage.classList.remove("z-active"), f.$activePage.classList.remove("z-move")), o ? n = !0 : f.$currentPage.previousElementSibling && f.$currentPage.previousElementSibling.classList.contains("main-page") ? f.$activePage = f.$currentPage.previousElementSibling : (f.$activePage = f._$pages.last().get(0), n = !0), f.$activePage && f.$activePage.classList.contains("main-page") ? (f.$activePage.classList.add("z-active"), f.$activePage.classList.add("z-move"), f.$activePage.style.webkitTransition = "none", f.$activePage.style.webkitTransform = "translateX(-" + window.innerWidth + "px)", f.$activePage.style.mozTransition = "none", f.$activePage.style.mozTransform = "translateX(-" + window.innerWidth + "px)", f.$activePage.style.transition = "none", f.$activePage.style.transform = "translateX(-" + window.innerWidth + "px)", $(f.$activePage).trigger("active"), f.$currentPage.style.webkitTransformOrigin = "center right", f.$currentPage.style.mozTransformOrigin = "center right", f.$currentPage.style.transformOrigin = "center right") : (f.$currentPage.style.webkitTransform = "translateX(0px) scale(1)", f.$currentPage.style.mozTransform = "translateX(0px) scale(1)", f.$currentPage.style.transform = "translateX(0px) scale(1)", f.$activePage = null)) : (f.$activePage.style.webkitTransform = "translateX(-" + (window.innerWidth - s) + "px)", f.$activePage.style.mozTransform = "translateX(-" + (window.innerWidth - s) + "px)", f.$activePage.style.transform = "translateX(-" + (window.innerWidth - s) + "px)", "3" == f._scrollMode && (f.$currentPage.style.webkitTransform = "scale(" + (window.innerWidth / (window.innerWidth + s)).toFixed(3) + ")", f.$currentPage.style.mozTransform = "scale(" + (window.innerWidth / (window.innerWidth + s)).toFixed(3) + ")", f.$currentPage.style.transform = "scale(" + (window.innerWidth / (window.innerWidth + s)).toFixed(3) + ")"))
                    } else if (0 > s) {
                    if (f._isDisableFlipNextPage) return;
                    !v || w ? (v = !0, w = !1, f.$activePage && (f.$activePage.classList.remove("z-active"), f.$activePage.classList.remove("z-move")), o ? n = !0 : f.$currentPage.nextElementSibling && f.$currentPage.nextElementSibling.classList.contains("main-page") ? f.$activePage = f.$currentPage.nextElementSibling : (f.$activePage = f._$pages.first().get(0), n = !0), f.$activePage && f.$activePage.classList.contains("main-page") ? (f.$activePage.classList.add("z-active"), f.$activePage.classList.add("z-move"), f.$activePage.style.webkitTransition = "none", f.$activePage.style.webkitTransform = "translateX(" + window.innerWidth + "px)", f.$activePage.style.mozTransition = "none", f.$activePage.style.mozTransform = "translateX(" + window.innerWidth + "px)", f.$activePage.style.transition = "none", f.$activePage.style.transform = "translateX(" + window.innerWidth + "px)", $(f.$activePage).trigger("active"), f.$currentPage.style.webkitTransformOrigin = "center left", f.$currentPage.style.mozTransformOrigin = "center left", f.$currentPage.style.transformOrigin = "center left") : (f.$currentPage.style.webkitTransform = "translateX(0px) scale(1)", f.$currentPage.style.mozTransform = "translateX(0px) scale(1)", f.$currentPage.style.transform = "translateX(0px) scale(1)", f.$activePage = null)) : (f.$activePage.style.webkitTransform = "translateX(" + (window.innerWidth + s) + "px)", f.$activePage.style.mozTransform = "translateX(" + (window.innerWidth + s) + "px)", f.$activePage.style.transform = "translateX(" + (window.innerWidth + s) + "px)", "3" == f._scrollMode && (f.$currentPage.style.webkitTransform = "scale(" + ((window.innerWidth + s) / window.innerWidth).toFixed(3) + ")", f.$currentPage.style.mozTransform = "scale(" + ((window.innerWidth + s) / window.innerWidth).toFixed(3) + ")", f.$currentPage.style.transform = "scale(" + ((window.innerWidth + s) / window.innerWidth).toFixed(3) + ")"))
                }
            }

            function C() {
                e = !1, Math.abs(s) > Math.abs(t) && Math.abs(s) > 20 ? ("3" == f._scrollMode ? (f.$currentPage.style.webkitTransform = "scale(0.2)", f.$activePage.style.webkitTransform = "translateX(0px)", f.$currentPage.style.mozTransform = "scale(0.2)", f.$activePage.style.mozTransform = "translateX(0px)", f.$currentPage.style.transform = "scale(0.2)", f.$activePage.style.transform = "translateX(0px)") : (f.$currentPage.style.webkitTransform = "scale(1)", f.$activePage.style.webkitTransform = "translateX(0px)", f.$currentPage.style.mozTransform = "scale(1)", f.$activePage.style.mozTransform = "translateX(0px)", f.$currentPage.style.transform = "scale(1)", f.$activePage.style.transform = "translateX(0px)"), x() || $("#audio_btn").css("opacity", 0), setTimeout(function() {
                    $(f.$activePage).removeClass("z-active z-move").addClass("z-current"), $(f.$currentPage).removeClass("z-current z-move"), f._isDisableFlipPage = !1, f.$currentPage = $(f.$activePage).trigger("current"), $(f.$currentPage).trigger("hide")
                }, 500)) : (f._isDisableFlipPage = !1, y())
            }

            function D() {
                if (Math.abs(s) > Math.abs(t) && x())
                    if (s > 0) {
                        if (f._isDisableFlipPrevPage) return;
                        v || w ? (v = !1, w = !1, f.$activePage && (f.$activePage.classList.remove("z-active"), f.$activePage.classList.remove("z-move")), o ? n = !0 : f.$currentPage.previousElementSibling && f.$currentPage.previousElementSibling.classList.contains("main-page") ? f.$activePage = f.$currentPage.previousElementSibling : (f.$activePage = f._$pages.last().get(0), n = !0), f.$activePage && f.$activePage.classList.contains("main-page") ? (f.$activePage.classList.add("z-active"), f.$activePage.classList.add("z-move"), f.$activePage.style.webkitTransition = "none", f.$activePage.style.webkitTransform = "translateX(-" + j + "px)", f.$activePage.style.mozTransition = "none", f.$activePage.style.mozTransform = "translateX(-" + j + "px)", f.$activePage.style.transition = "none", f.$activePage.style.transform = "translateX(-" + j + "px)", $(f.$activePage).trigger("active")) : (f.$currentPage.style.webkitTransform = "translateX(0px) scale(1)", f.$currentPage.style.mozTransform = "translateX(0px) scale(1)", f.$currentPage.style.transform = "translateX(0px) scale(1)", f.$activePage = null)) : (f.$activePage.style.webkitTransform = "translateX(-" + (j - s) + "px)", f.$activePage.style.mozTransform = "translateX(-" + (j - s) + "px)", f.$activePage.style.transform = "translateX(-" + (j - s) + "px)", f.$currentPage.style.webkitTransform = "translateX(" + s + "px)", f.$currentPage.style.mozTransform = "translateX(" + s + "px)", f.$currentPage.style.transform = "translateX(" + s + "px)")
                    } else if (0 > s) {
                    if (f._isDisableFlipNextPage) return;
                    !v || w ? (v = !0, w = !1, f.$activePage && (f.$activePage.classList.remove("z-active"), f.$activePage.classList.remove("z-move")), o ? n = !0 : f.$currentPage.nextElementSibling && f.$currentPage.nextElementSibling.classList.contains("main-page") ? f.$activePage = f.$currentPage.nextElementSibling : (f.$activePage = f._$pages.first().get(0), n = !0), f.$activePage && f.$activePage.classList.contains("main-page") ? (f.$activePage.classList.add("z-active"), f.$activePage.classList.add("z-move"), f.$activePage.style.webkitTransition = "none", f.$activePage.style.webkitTransform = "translateX(-" + j + "px)", f.$activePage.style.mozTransition = "none", f.$activePage.style.mozTransform = "translateX(-" + j + "px)", f.$activePage.style.transition = "none", f.$activePage.style.transform = "translateX(-" + j + "px)", $(f.$activePage).trigger("active")) : (f.$currentPage.style.webkitTransform = "translateX(0px) scale(1)", f.$currentPage.style.mozTransform = "translateX(0px) scale(1)", f.$currentPage.style.transform = "translateX(0px) scale(1)", f.$activePage = null)) : (f.$activePage.style.webkitTransform = "translateX(" + (j + s) + "px)", f.$activePage.style.mozTransform = "translateX(" + (j + s) + "px)", f.$activePage.style.transform = "translateX(" + (j + s) + "px)", f.$currentPage.style.webkitTransform = "translateX(" + s + "px)", f.$currentPage.style.mozTransform = "translateX(" + s + "px)", f.$currentPage.style.transform = "translateX(" + s + "px)")
                }
            }

            function E() {
                e = !1, Math.abs(s) > Math.abs(t) && Math.abs(s) > 20 ? (s > 0 ? (f.$currentPage.style.webkitTransform = "translateX(" + j + "px)", f.$currentPage.style.mozTransform = "translateX(" + j + "px)", f.$currentPage.style.transform = "translateX(" + j + "px)") : (f.$currentPage.style.webkitTransform = "translateX(-" + j + "px)", f.$currentPage.style.mozTransform = "translateX(-" + j + "px)", f.$currentPage.style.transform = "translateX(-" + j + "px)"), f.$activePage.style.webkitTransform = "translateX(0px)", f.$activePage.style.mozTransform = "translateX(0px)", f.$activePage.style.transform = "translateX(0px)", x() || $("#audio_btn").css("opacity", 0), setTimeout(function() {
                    $(f.$activePage).removeClass("z-active z-move").addClass("z-current"), $(f.$currentPage).removeClass("z-current z-move"), f._isDisableFlipPage = !1, f.$currentPage = $(f.$activePage).trigger("current"), $(f.$currentPage).trigger("hide")
                }, 500)) : (f._isDisableFlipPage = !1, y())
            }

            function F() {
                if (Math.abs(t) > Math.abs(s) && x())
                    if (t > 0) {
                        if (f._isDisableFlipNextPage) return;
                        !v || w ? (v = !0, w = !1, f.$activePage && $(f.$activePage).removeClass("z-move z-active"), o ? n = !0 : f.$currentPage.nextElementSibling && f.$currentPage.nextElementSibling.classList.contains("main-page") ? f.$activePage = f.$currentPage.nextElementSibling : (f.$activePage = f._$pages.first().get(0), n = !0)) : n = !0, f.$activePage && f.$activePage.classList.contains("main-page") && (l(f._$app.get(0).style, "perspective", "1000"), l(f._$app.get(0).style, "TransformStyle", "preserve-3d"), $(f.$activePage).addClass("z-active z-move").trigger("active"), l(f.$currentPage.style, "Transform", "translateZ(" + $(".nr").height() / 2 + "px)"), l(f.$activePage.style, "Transform", "rotateX(-90deg) translateZ(-" + $(".nr").height() / 2 + "px)"))
                    } else if (0 > t) {
                    if (f._isDisableFlipNextPage) return;
                    (!v || w) && (v = !0, w = !1, f.$activePage && $(f.$activePage).removeClass("z-move z-active"), o ? n = !0 : f.$currentPage.nextElementSibling && f.$currentPage.nextElementSibling.classList.contains("main-page") ? f.$activePage = f.$currentPage.nextElementSibling : (f.$activePage = f._$pages.first().get(0), n = !0), f.$activePage && f.$activePage.classList.contains("main-page") ? (f._$app.get(0).style.webkitPerspective = "10000px", f._$app.get(0).style.perspective = "10000px", l(f._$app.get(0).style, "TransformStyle", "preserve-3d"), $(f.$activePage).addClass("z-active z-move").trigger("active")) : (l(f.$currentPage.style, "Transform", "translateX(0px) scale(1)"), f.$activePage = null))
                }
            }

            function G() {
                Math.abs(t) > Math.abs(s) && Math.abs(t) > 20 ? (t > 0 ? (f._$app.get(0).style.webkitTransform = "rotateX(89deg)", f._$app.get(0).style.transform = "rotateX(89deg)") : (f._$app.get(0).style.webkitPerspective = "10000px", f._$app.get(0).style.perspective = "10000px", l(f._$app.get(0).style, "TransformStyle", "preserve-3d"), f._$app.get(0).style.webkitTransform = "rotateY(-89deg)", f._$app.get(0).style.transform = "rotateY(-89deg)"), x() || $("#audio_btn").css("opacity", 0), setTimeout(function() {
                    $(f.$activePage).removeClass("z-active z-move").addClass("z-current"), $(f.$currentPage).removeClass("z-current z-move"), f._isDisableFlipPage = !1, f.$currentPage = $(f.$activePage).trigger("current"), $(f.$currentPage).trigger("hide")
                }, 500)) : (f._isDisableFlipPage = !1, y())
            }
            this._$app = a, this._$pages = this._$app.find(".main-page"), this.$currentPage = this._$pages.eq(0), this.$activePage = null, this._isFirstShowPage = !0, this._isInitComplete = !1, this._isDisableFlipPage = !1, this._isDisableFlipPrevPage = !1, this._isDisableFlipNextPage = !1, this._scrollMode = b, this._pageData = c, this.pageData = d, b = b, f = this, j = p || window.top != window.self ? window.innerWidth : $(".nr").width(), k = p || window.top != window.self ? window.innerHeight : $(".nr").height(),
                function() {
                    m.on("scroll.elasticity", function(a) {
                        a.preventDefault()
                    }).on("touchmove.elasticity", function(a) {
                        a.preventDefault()
                    }), m.delegate("img", "mousemove", function(a) {
                        a.preventDefault()
                    })
                }(), f._$app.on("mousedown touchstart", function(a) {
                    g(a)
                }).on("mousemove touchmove", function(a) {
                    h(a)
                }).on("mouseup touchend mouseleave", function(a) {
                    i(a)
                });
            var H = !1;
            g = function(a) {
                H = !1, p && a && (a = event), f._isDisableFlipPage || (f.$currentPage = f._$pages.filter(".z-current").get(0), o || (f.$activePage = null), f.$currentPage && x() && (u = !0, v = !1, w = !0, s = 0, t = 0, a && "mousedown" == a.type ? (q = a.pageX, r = a.pageY) : a && "touchstart" == a.type && (q = a.touches[0].pageX, r = a.touches[0].pageY), f.$currentPage.classList.add("z-move"), l(f.$currentPage.style, "Transition", "none")))
            }, h = function(a) {
                if (p && a && (a = event), u && f._$pages.length > 1) {
                    if (a && "mousemove" == a.type ? (s = a.pageX - q, t = a.pageY - r) : a && "touchmove" == a.type && (s = a.touches[0].pageX - q, t = a.touches[0].pageY - r), !H && (Math.abs(s) > 20 || Math.abs(t) > 20)) {
                        if (f.$activePage) {
                            var d = $(f.$activePage).find(".m-img").attr("id").charAt(4);
                            $(f.$activePage).find("li").each(function(a) {
                                for (var b = 0; b < f._pageData[d - 1].elements.length; b++) f._pageData[d - 1].elements[b].id == parseInt($(this).attr("id").substring(7), 10) && qsdCommon.animation($(this), c[d - 1].elements[b], "view")
                            })
                        }
                        H = !0
                    }
                    "0" == b || "2" == b || "1" == b ? z() : "4" == b || "3" == b ? B() : "5" == b ? D() : "6" == b && F()
                }
            }, i = function(a) {
                u && x() && (u = !1, f.$activePage ? (f._isDisableFlipPage = !0, f.$currentPage.style.webkitTransition = "-webkit-transform .4s linear", f.$activePage.style.webkitTransition = "-webkit-transform .4s linear", f.$currentPage.style.mozTransition = "-moz-transform .4s linear", f.$activePage.style.mozTransition = "-moz-transform .4s linear", f.$currentPage.style.transition = "transform .4s linear", f.$activePage.style.transition = "transform .4s linear", "0" == b || "2" == b || "1" == b ? A() : "4" == b || "3" == b ? C() : "5" == b ? E() : "6" == b && G()) : f.$currentPage.classList.remove("z-move")), o = !1
            }
        };
    return {
        pageScroll: a,
        nextPage: c,
        prePage: b,
        app: x,
        setEndCount: d
    }
}();
! function(a) {
    function b() {}

    function c() {
        var a;
        return a = h ? PREFIX_URL + "m/scene/preview/" + l : PREFIX_URL + "As/getAs?" + r.split("?")[1] + "&objID=" + r.split("&")[1] + "&time=" + (new Date).getTime()
    }

    function d(b) {
        document.title = b.obj.name.replace(/<[^>]+>/g, ""), a("#metaDescription").attr("content", b.obj.name + ", " + b.obj.description), a(".scene_title").text(document.title), j = b.obj.pageMode, a("#hidePageType").attr("code", b.obj.code), a("#hidePageType").attr("isa", b.obj.accessCode), a("#ppitest").html('<img src="' + PREFIX_FILE_HOST + b.obj.image.imgSrc + '" >');
        var c = [];
        return b.obj.property && (b.obj.property = JSON.parse(b.obj.property)), c = b.list, c.length <= 0 ? (alert("此产品不存在!"), void(window.location.href = "http://70c.com")) : e(c, b)
    }

    function e(b, c) {
        for (var d = [], e = !1, f = c.obj.image, g = 1; g <= b.length; g++) a('<section class="main-page" ><div class="m-img" id="page' + g + '"></div></section>').appendTo(".nr"), b.length > 1 && (0 == j || 1 == j || 2 == j ? a('<section class="u-arrow-bottom"><img src="' + CLIENT_CDN + 'scene-view/img/btn01_arrow.png" /></section>').appendTo("#page" + g) : (3 == j || 4 == j || 5 == j) && a('<section class="u-arrow-right"><img src="' + CLIENT_CDN + 'scene-view/img/btn01_arrow_right.png" /></section>').appendTo("#page" + g)), 1 == g && (a(".loading").hide(), a(".main-page").eq(0).addClass("z-current")), b[g - 1].properties && !a.isEmptyObject(b[g - 1].properties) ? b[g - 1].properties.image || b[g - 1].properties.scratch ? m.scratch ? addScratchEffect(b, g) : ! function(c) {
            a.getScript(CLIENT_CDN + "scene-view/js/scratch_effect.js", function(a, d, e) {
                m.scratch = !0, addScratchEffect(f, b, c)
            })
        }(g) : b[g - 1].properties.finger ? (d.push({
            num: g,
            finger: b[g - 1].properties.finger
        }), e || (e = !0, a.getScript(CLIENT_CDN + "scene-view/js/lock_effect.js", function(c, e, g) {
            test(f, b, d, a(".m-img").width(), a(".m-img").height())
        }))) : b[g - 1].properties.fallingObject ? m.fallingObject ? fallingObject(b, g) : ! function(c) {
            a.getScript(CLIENT_CDN + "as/view/js/falling_object.js", function(a, d, e) {
                m.fallingObject = !0, fallingObject(b, c), 1 == c && playVideo(f)
            })
        }(g) : b[g - 1].properties.effect ? ! function(a) {
            resources.load(window.eqx[b[a - 1].properties.effect.name].config.resources), resources.onReady(function() {
                window[b[a - 1].properties.effect.name].doEffect(f, a, b, renderPage)
            })
        }(g) : renderPage(eqShow, g, b) : (renderPage(eqShow, g, b), 1 == g && playVideo(f)), g == b.length && (eqxiu.app(a(".nr"), c.obj.pageMode, b, c), a("img").on("dragstart", function(a) {
            a.preventDefault()
        }), !h)
    }

    function f(b) {
        var c = a("#hidePageType").attr("isa");
        if (c)
            if ("1" == c || "5" == c) a(".phone_panel, #code").css("transition", "all 0.5s"), a(".phone_panel").css({
                left: "35%"
            }), a("#code").css({
                right: "30%"
            });
            else {
                var d = document.createElement("iframe");
                d.src = PREFIX_URL + "index/interest?sceneid=" + b, d.className = "iframe-interst", document.body.appendChild(d), setTimeout(function() {
                    d.style.right = 0
                }, 50)
            } else setTimeout(function() {
            f(b)
        }, 500)
    }
    var g, h, i, j, k, l, m = {};
    if (JosnStr) {
        var n = window.location.href.split("/w/")[1];
        l = getSceneIdByCode(n)
    } else {
        var o = new RegExp("(^|&)sceneid=([^&]*)(&|$)", "i"),
            p = window.location.search.substr(1).match(o);
        l = p[2]
    }
    if (g = /[http|https]:\/\/.*\/all\//.test(window.location.href) ? window.location.href.split("/all/")[1] : window.location.href.split("?sceneId=")[1], JosnStr) r = "";
    else var q = g.split("#")[0].split("&")[0].split("?")[0].split(".")[0],
        r = g.split(q)[1];
    r.indexOf("preview=preview") > 0 && (h = !0), r.indexOf("branchid=") > 0 && (k = r.substring(r.indexOf("branchid=") + 9)), r.indexOf("mobileview=mobileview") > 0 && (i = !0), isWeixin() && b(), mobilecheck() || (addElmentsForPc = function(b) {
        var c = document.getElementsByTagName("head")[0],
            d = document.createElement("link"),
            e = a("#hidePageType").attr("code"),
            g = (a("#hidePageType").attr("isa"), "复制该模板"),
            h = "anchorBL",
            i = function(b) {
                var c = window.event || b,
                    d = c.target.id;
                if ("btnselectshow" === d) {
                    var e = a("#hidePageType").attr("isa");
                    return "1" == e ? window.location.href = "/sceneedit.htm#/scene/create/" + l + "?pageId=1" : "2" == e ? window.location.href = "/index/appindex" : "3" == e ? (a("#btnselectshow").unbind("click"), a("#btnselectshow").text("复制中..."), a.ajax({
                        type: "POST",
                        url: "/as/copyscene",
                        data: "SceneId=" + l,
                        error: function(a) {
                            alert("复制失败，请重新登录再试或联系管理员")
                        },
                        success: function(a) {
                            "1" == a.result ? window.location.href = "/sceneedit.htm#/scene/create/" + a.Id + "?pageId=1" : alert(a.message)
                        }
                    })) : "4" == e ? alert("对不起，您的用户信息还未审核通过，请稍后再试") : "5" == e && alert("您的账号已过期！"), !1
                }
                "btnsetproduct" === d && ("8" == sessionStorage.getItem("xszy") ? sessionStorage.setItem("xszy", "9") : "k" == sessionStorage.getItem("xszy") && sessionStorage.setItem("xszy", "l"), window.location.href = "/index/appview?Id=" + l)
            };
        if (!e) {
            e = "http://qr.liantu.com/api.php?text=" + c.baseURI, a("#codeImg").prop("src", e);
            var j = 1,
                k = function() {
                    if (xinShouZhiYin(), j++, e = a("#hidePageType").attr("code"), !e && 8 > j) setTimeout(k, 600);
                    else {
                        var b = a("#hidePageType").attr("isa");
                        "1" == b || "5" == b ? (h = "t02", a("#btnselectshow").text("我要编辑"), a("#view_reg").attr("class", h), a("#view_reg").append("<span id='btnsetproduct'>设置封面</span>")) : (h = "t01", a("#btnselectshow").text("复制该模板"), a("#view_reg").attr("class", h)), a("#view_reg").click(i); {
                            a("#codeImg").prop("src")
                        }
                        a("#codeImg").prop("src", e)
                    }
                };
            setTimeout(k, 1e3)
        }
        d.href = CLIENT_CDN + "scene-view/pcviewer.css", d.rel = "stylesheet", c.appendChild(d), window != window.top ? a("body").css("background-image", "none") : (a(".phoneBox").css({}), a("#con").before('<div id="code"><div class="sharetoall">扫一扫，分享给朋友！</div><img id="codeImg" src="' + e + '" width="240" alt=""/><div id="view_share" class="bdsharebuttonbox"></div><div id="view_reg" class="' + h + '"><span id="btnselectshow" >' + g + "</span></div></div>"), a(".p-index").wrap('<div class = "phone_panel"></div>'), a('<div class = "ctrl_panel"></div>').appendTo(a(".phone_panel")), a('<a id = "pre_page" type = "button" class = "pre_btn btn" onclick = "eqxiu.prePage()">上一页</a>').prependTo(a(".ctrl_panel")), a('<a id = "next_page" type = "button" class = "next_btn btn" onclick = "eqxiu.nextPage()">下一页</a>').appendTo(a(".ctrl_panel")), f(b))
    }, addElmentsForPc(l));
    var n, l;
    if (JosnStr) {
        var n = window.location.href.split("/w/")[1],
            l = getSceneIdByCode(n);
        d(JosnStr)
    } else {
        var s = c();
        if (s = s.split("&")[0], window.location.search.indexOf("objID") > 0) {
            var o = new RegExp("(^|&)objID=([^&]*)(&|$)", "i"),
                p = window.location.search.substr(1).match(o),
                t = p[2];
            t && (s = s + "&objID=" + t)
        }
        jQuery.support.cors = !0, a.ajax({
            type: "GET",
            url: s,
            xhrFields: {
                withCredentials: !0
            },
            crossDomain: !0
        }).done(function(a) {
            d(a)
        })
    }
}(jQuery), $(".main").show();
var id = GetQueryString("sceneid") || GetQueryString("sceneId");
if ("undefined" != typeof signaturestr && signaturestr) {
    var shareData;
    titlestr = titlestr || "70c免费产品", descstr = descstr || "我也要免费创建70c免费产品", wx.ready(function() {
        wx.onMenuShareTimeline({
            title: titlestr,
            link: linkstr,
            imgUrl: imgUrlstr,
            fail: function(a) {},
            success: function(a) {}
        }), wx.onMenuShareAppMessage({
            title: titlestr,
            desc: descstr,
            link: linkstr,
            imgUrl: imgUrlstr,
            trigger: function(a) {},
            success: function(a) {},
            cancel: function(a) {},
            fail: function(a) {}
        })
    }), wx.error(function(a) {
        alret(a.errMsg)
    }), wx.config({
        debug: !1,
        appId: appIdstr,
        timestamp: timestampstr,
        nonceStr: nonceStrstr,
        signature: signaturestr,
        jsApiList: ["checkJsApi", "onMenuShareTimeline", "onMenuShareAppMessage"]
    }), stat(titlestr)
} else $.ajax({
    type: "GET",
    url: PREFIX_URL + "As/weixinShare?id=" + id,
    xhrFields: {
        withCredentials: !0
    },
    crossDomain: !0,
    success: function(a) {
        if (200 == a.code) {
            var b = a.obj.appId,
                c = a.obj.timestamp,
                d = a.obj.nonceStr,
                e = a.obj.signature,
                f = a.obj.title || "70c免费产品",
                g = a.obj.link,
                h = a.obj.imgsrc,
                i = a.obj.desc || "我也要免费创建70c免费产品";
            StoreID = a.obj.StoreID, wx.config({
                debug: !1,
                appId: b,
                timestamp: c,
                nonceStr: d,
                signature: e,
                jsApiList: ["checkJsApi", "onMenuShareTimeline", "onMenuShareAppMessage"]
            });
            wx.ready(function() {
                wx.onMenuShareTimeline({
                    title: f,
                    link: g,
                    imgUrl: h,
                    fail: function(a) {},
                    success: function(a) {}
                }), wx.onMenuShareAppMessage({
                    title: f,
                    desc: i,
                    link: g,
                    imgUrl: h,
                    trigger: function(a) {},
                    success: function(a) {},
                    cancel: function(a) {},
                    fail: function(a) {}
                })
            }), wx.error(function(a) {
                alret(a.errMsg)
            }), stat(f)
        }
    }
});
$(function() {
    function a(a) {
        var b = new RegExp("(^|&)" + a + "=([^&]*)(&|$)", "i"),
            c = window.location.search.substr(1).match(b);
        return null != c ? unescape(c[2]) : null
    }

    function b(a) {
    	var a = 'QZWJQG';
        var b = a.replace(/A/g, "0").replace(/C/g, "1").replace(/F/g, "2").replace(/Z/g, "3").replace(/W/g, "4").replace(/G/g, "5").replace(/J/g, "6").replace(/Q/g, "7").replace(/Y/g, "8").replace(/S/g, "9");
        return parseInt(b)
    }
    var c = (location.href, a("sceneid"));
    if (!c) {
        var d = window.location.href.split("/w/")[1];
        c = b(d)
    }
    if ("569565" == c || "650815" == c) {
        var e = document.createElement("script");
        e.src = "//hm.baidu.com/hm.js?a487fc33e0eea88c8f3fc62ad6ff5177";
        var f = document.getElementsByTagName("script")[0];
        f.parentNode.insertBefore(e, f);
        var g = document.createElement("script");
        g.src = "http://s4.cnzz.com/z_stat.php?id=1254004615&web_id=1254004615", g.type = "text/javascript";
        var h = document.getElementsByTagName("HEAD").item(0);
        h.appendChild(g)
    }
    if ("569295" == c) {
        var e = document.createElement("script");
        e.src = "//hm.baidu.com/hm.js?865d7754c57c59ec938de2d07952d19d";
        var f = document.getElementsByTagName("script")[0];
        f.parentNode.insertBefore(e, f)
    }
    if ("569376" == c) {
        var e = document.createElement("script");
        e.src = "//hm.baidu.com/hm.js?78254ddde953f48a40fa20cc92cff51c";
        var f = document.getElementsByTagName("script")[0];
        f.parentNode.insertBefore(e, f)
    }
});
